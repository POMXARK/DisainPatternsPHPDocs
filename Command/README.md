Паттерн Команда **отделяет сторону, выдающую запрос, от объекта**, фактически выполняющего операцию.

Паттерн Команда инкапсулирует запрос в виде объекта, делая возможной параметризацию клиентских объектов с другими
запросами, организацию очереди или регистрацию запросов, а так же поддержку отмены операций.

разобравшись с основной схемой
паттерна, вы легко освоите паттерн Метакоманда — механизм создания макропоследовательностей для выполнения
серий команд.

#### Загрузка команды:

1. Клиент создает объект команды.
2. ИнициатоКлиент вызывает setCommand() для сохранения объекта команды в Инициаторе.
3. Позднее... клиент обращается к инициатору с запросом на выполнение команды.

Команда, загруженная Инициатором, может как уничтожаться после выполнения, так и оставаться для повторного использования

При использовании паттерна Команда в программе появляется множество мелких классов — конкретных
реализаций Command; каждый класс инкапсулирует запрос к соответствующему приемнику.

Лямбда-выражения предназначены для использования с функциональными интерфейсами (только с одним методом) для
упрощения кода.Если вам приходится искать обходные пути для поддержки таких случаев, как Command с отменой, вероятно,
вместо лямбда-выражений стоит поискать другое решение.

Классы очередей заданий полностью отделены от
объектов, выполняющих обработку. В один момент
времени поток может выполнять финансовые расче-
ты, а в другой — загружать данные по сети. Для объек-
та очереди это совершенно неважно; он просто загру-
жает объекты команд и вызывает их методы execute().
Если очередь реализована на базе паттерна Команда,
метод execute() помещенного в нее объекта будет вы-
зван при наличии свободного потока.

Семантика некоторых приложений требует регистрации всех выполня-
емых операций и возможности восстановления после сбоя. В паттерне
Команда для поддержки этой семантики используются два метода: store()
и load().

Как работает регистрация? Информация о выполняемых командах сохра-
няется в журнальном файле на диске. Если в работе приложения проис-
ходит сбой, мы снова загружаем объекты команд и последовательно вы-
полняем их методы execute().

Регистрация по-
зволяет сохранить все операции от последней контрольной точки и в
случае возникновения сбоя — применить их к контрольной точке.
Ска-
жем, в электронной таблице разумно реализовать восстановление по-
средством регистрации операций (вместо того, чтобы записывать копию
таблицы на диск при каждом изменении). В более сложном приложении
возможно транзакционное расширение механизма регистрации, чтобы
все операции либо закреплялись как единое целое, либо одновременно
отменялись.

Команды также могут использо-
ваться для реализации систем
регистрации команд и поддерж-
ки транзакций.

В основе  команды лежат принципы паттерна **стратегия (единый интерфейс, для схожих алгоритмов)**