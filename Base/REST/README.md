- **Клиент-сервер**

**Первое ограничение указывает, что сеть должна состоять из клиентов и серверов.**
Сервер — это компьютер, который имеет требуемые ресурсы, а клиент — это компьютер,
которому нужно взаимодействовать с ресурсами, хранящимися на сервере.
Когда вы копаетесь в интернете, ваш компьютер выступает в роли клиента и отправляет HTTP-запросы серверу, чтобы получать
доступ к информации и работать с ней. RESTful-система должна производить операции в клиент-серверной модели, даже если
компонент периодически ведёт себя то как клиент, то как сервер.

Альтернатива клиент-серверной архитектуре, построенная без REST — это интеграция, основанная на событиях. В этой модели,
каждый компонент непрерывно передает события, перехватывая соответствующие события из других компонентов. В ней нет
взаимодействия один-к-одному, только передача и перехват. **REST требует взаимодействия один-к-одному, поэтому
архитектура, основанная на событиях не будет удовлетворять требованиям RESTful.**

- **Отсутствие состояния**

Понятие «без состояния» не означает, что серверы и клиенты его не имеют, у них просто **нет необходимости отслеживать
состояние друг друга.** Когда клиент не взаимодействует с сервером, сервер не имеет представления о его существовании.
Сервер также не ведёт учет прошлых запросов. **Каждый запрос рассматривается как самостоятельный.**

- **Единообразие интерфейса**

Ограничение гарантирует, что между серверами и клиентами существует общий язык, который **позволяет каждой части быть
заменяемой или изменяемой, без нарушения целостности системы.** Это достигается через 4 субограничения: идентификацию
ресурсов, манипуляцию ресурсами через представления, «самодостаточные» сообщения и гипермедиа.

1-е ограничение интерфейса: определение ресурсов

Первое субограничение «унифицированного интерфейса» влияет на то, как идентифицируются ресурсы. В терминологии REST что
угодно может быть ресурсом — HTML-документ, изображение, информация о конкретном пользователе и т.д. **Каждый ресурс
должен быть уникально обозначен постоянным идентификатором.** «Постоянный» означает, что идентификатор не изменится за
время обмена данными, и даже когда изменится состояние ресурса. Если ресурсу присваивается другой идентификатор, сервер
должен сообщить клиенту, что запрос был неудачным и дать ссылку на новый адрес.

Web использует URI для идентификации ресурсов, а HTTP — в качестве стандарта коммуникации. Чтобы получить ресурс,
хранящийся на сервере, клиент делает к URI HTTP-GET-запрос, который идентифицирует этот ресурс. Каждый раз, когда вы
набираете в браузере какой-то адрес, браузер делает GET-запрос на этот URI. Если браузер принимает в ответ 200 OK и
HTML-документ обратно, то браузер рендерит страницу в окне, и вы ее видите.

2-е ограничение интерфейса: управление ресурсами через представления

Второе субограничение «унифицированного интерфейса» говорит, что клиент управляет ресурсами, направляя серверу
представления, **обычно в виде JSON-объекта**, содержащего контент, который он хотел бы добавить, удалить или изменить.
В
REST у сервера полный контроль над ресурсами, и он отвечает за любые изменения. Когда клиент хочет внести изменения в
ресурсы, он посылает серверу представление того, каким он видит итоговый ресурс. Сервер принимает запрос как
предложение, но за ним всё так же остаётся полный контроль.

Давайте рассмотрим блог в качестве примера. Когда пользователь создаёт новый пост в блоге, его компьютер должен сообщить
серверу, что в блог нужно добавить новую запись. Чтобы это выполнить, он посылает HTTP-POST-запрос или PUT-запрос с
содержимым в виде новой записи в блоге. Сервер возвращает ответ, указывающий, что запись создана или была проблема. В
не-REST мире клиент может в буквальном смысле давать инструкции операциям, вроде «добавить новую строку» и «присвоить
записи название», вместо обычной отправки представления того, каким он видит конечный ресурс.

3-е ограничение интерфейса: самодостаточные сообщения
самодостаточные сообщения — это ещё одно ограничение, которое гарантирует унифицированность интерфейса у клиентов и
серверов. Только самодостаточное сообщение содержит всю информацию, которая необходима для понимания его получателем. В
отдельной документации или другом сообщении не должно быть дополнительной информации.

Чтобы понять, как это касается WEB, давайте проанализируем набор HTTP запросов и ответов.

Когда пользователь набирает www.example.com в адресной строке веб-браузера, браузер отправляет соответствующий
HTTP-запрос:

GET / HTTP/1.1
Host: www.example.com

Это самодостаточное сообщение, потому что оно передаёт серверу какой был использован HTTP-метод и какой протокол (HTTP
1.1).

HTTP / 1.1 200 OK
Content-Type: text/html
<!DOCTYPE html>
Home Page

Hello World!
Check out the Recurse Center!
Изображение не загружено

Это самодостаточное сообщение, потому что оно сообщает клиенту, как интерпретировать текст сообщения (благодаря
Content-type = text/html). У клиента есть всё, что необходимо, в этом одном сообщении для обработки его соответствующим
образом.

Представьте себе альтернативный способ коммуникации, когда сервер отправляет двоичный код в одном ответе, а затем
отдельное сообщение, которое говорит клиенту, как интерпретировать бинарный код, не важно изображение это или фрагмент
кода. Если два ответа каким-то образом доставятся в неверном порядке, или между ними будет вставлено третье сообщение,
то клиент запутается и не сможет правильно интерпретировать эти сообщения.

4-е ограничение интерфейса: гипермедиа

Последнее ограничение интерфейса — это ограничение гипермедиа. **Гипермедиа — это пафосное понятие для обозначения данных,
которые содержат информацию о том, что клиенту нужно делать дальше, другими словами, какие еще запросы он может сделать.**
В REST серверы должны посылать клиентам только гипермедиа.

HTML — это один из видов гипермедиа. Чтобы лучше это понять, давайте еще раз посмотрим на ответ сервера выше.
<a href= “http://www.recurse.com”> Check out the Recurse Center!</a>
сообщает клиенту, что он должен сделать GET-запрос к www.recurse.com, если пользователь нажимает на ссылку.
<img src="awesome-pic.jpg">
говорит клиенту немедленно сделать GET-запрос к www.example.com/awesome-pic.jpg, чтобы тот отобразил изображение для
пользователя.

Когда система имеет идентификаторы для каждого ресурса, управляет ими через направление представлений от клиента
серверу, содержит самодостаточные сообщения и составлена из гипермедиа, то говорят, что у неё унифицированный интерфейс.
Возможно, это самый важный атрибут RESTful системы, так как он позволяет клиентам приспосабливаться к изменениям. Сервер
может изменить базовую реализацию, не обрывая всех клиентов, которые взаимодействовали с ним, потому что каждое
взаимодействие самодостаточно: идентификаторы не изменяются при изменении базовых состояний или реализациии, а
гипермедиа дает клиентам инструкции для переходов из состояния в состояние, которые он может впоследствии исполнять.
Серверу не нужно ничего помнить о клиенте или делать что-то особенное, чтобы удовлетворить его, и наоборот.

**Другие ограничения Филдинга: кэширование, система слоёв и код по требованию**

Источники:

- https://habr.com/ru/companies/hexlet/articles/274675/